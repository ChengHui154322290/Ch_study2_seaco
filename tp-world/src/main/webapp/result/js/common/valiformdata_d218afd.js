var xigou=xigou||{};!function(u,t){function e(u){u=u.toUpperCase();var t,e,F,r,a=new Array("验证通过!","身份证号码位数不对!","身份证号码出生日期超出范围或含有非法字符!","身份证号码校验错误!","身份证地区非法!"),n={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},s=new Array;if(s=u.split(""),null==n[parseInt(u.substr(0,2))])return a[4];switch(u.length){case 15:return ereg=(parseInt(u.substr(6,2))+1900)%4==0||(parseInt(u.substr(6,2))+1900)%100==0&&(parseInt(u.substr(6,2))+1900)%4==0?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(u)?a[0]:a[2];case 18:return parseInt(u.substr(6,4))%4==0||parseInt(u.substr(6,4))%100==0&&parseInt(u.substr(6,4))%4==0?(ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/,eregNow=/^[1-9][0-9]{5}20[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/):(ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,eregNow=/^[1-9][0-9]{5}20[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/),ereg.test(u)||eregNow.test(u)?(F=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),t=F%11,r="F",e="10X98765432",r=e.substr(t,1),r==s[17]?a[0]:a[3]):a[2];default:return a[1]}}function F(u){if(""==u)return!1;var t="^[\\w@\\-\\.]{6,16}$",e=new RegExp(t);return e.test(u)?!0:!1}u.valiformdata=function(){var u={};return u.required=function(u){return""!=u.value?"":u.msg},u.date=function(u){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(u.value)?"":u.msg},u.number=function(u){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(u.value.trim())?label||null:u.msg},u.email=function(u){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(u.value)||!u.value?"":u.msg},u.mobile=function(u){return/^(13|14|15|18|17)\d{9}$/.test(u.value.trim())||!u.value?"":u.msg},u.emailormobile=function(u){return/^(13|14|15|18|17)\d{9}$|^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(u.value)?"":u.msg},u.phoneormobile=function(u){return/^\(?(0\d{2,3}-?)?\)?\d{7,8}$|^(13|14|15|18)\d{9}$/.test(u.value.trim())?"":u.msg},u.string=function(u){return/^[a-zA-Z\u4E00-\u9FA5]+$/.test(u.value)||!u.value?"":u.msg},u.licenseNo=function(u){return/(^[\u4E00-\u9FA5]{1}[A-Z0-9]{6}$)|(^[A-Z]{2}[A-Z0-9]{2}[A-Z0-9\u4E00-\u9FA5]{1}[A-Z0-9]{4}$)|(^[\u4E00-\u9FA5]{1}[A-Z0-9]{5}[挂学警军港澳]{1}$)|(^[A-Z]{2}[0-9]{5}$)|(^(08|38){1}[A-Z0-9]{4}[A-Z0-9挂学警军港澳]{1}$)/.test(u.value.trim())?"":u.msg},u.chineseChracter=function(u){return/^[\u4e00-\u9fa5]+$/.test(u.value)?"":u.msg},u.idcard=function(u){return"验证通过!"!=e(u.value.trim())&&u.value?u.msg:""},u.address=function(u){return/^[0-9a-zA-Z\u4E00-\u9FA5]+$/.test(u.value)||!u.value?"":u.msg},u.postCode=function(u){return/^[0-9]\d{5}$/.test(u.value)||!u.value?"":u.msg},u.telephone=function(u){return/^\(?(0\d{2,3}-?)?\)?\d{7,8}$/.test(u.value)||!u.value?"":u.msg},u.policyNo=function(u){return/^[A-z0-9]{22}$/.test(u.value)?"":u.msg},u.checkPwd=function(u){return 1==F(u.value)?"":u.msg},u.password=function(u){return/^[a-zA-Z0-9_]{6,30}$/.test(u.value)?"":u.msg},u.minLength=function(u){return u.value.length>=u.params.minLength?"":u.msg},u.maxLength=function(u){return u.value.length<=u.params.maxLength?"":u.msg},u.loginName=function(u){return/^[0-9a-zA-Z\_\-\u4e00-\u9fa5]+$/.test(u.value)||!u.value?"":u.msg},u.lengthFromTo=function(u){var t=new RegExp("^.{"+u.params.from+","+u.params.to+"}$");return t.test(u.value)?"":u.msg},u.cpicChineseChracter=function(u){return/^[\u4e00-\u9fa5|\u25cf|\u2022|%b7]+$/.test(u.value)?"":u.msg},u.consistentTo=function(u){var e=t(u.params.to);return u.value==e[0].value?"":u.msg},u.passwordFormat=function(u){var t=/^[^\u4e00-\u9fa5]{0,}$/;return t.test(u.value)?"":u.msg},u.licensePlateNumber=function(u){var t=/^[A-Z0-9]{6}$/;return t.test(u.value)?"":u.msg},u.numberUppLetter=function(u){var t=/^[A-Z0-9]+$/;return t.test(u.value)?"":u.msg},u.chinese=function(u){var t=u.params?u.params.min||4:4,e=u.params?u.params.max||30:30,F=u.value.replace(/[\u4E00-\u9FA5]/g,"xxx"),r=F.length;return r>e||t>r?u.msg:""},u.checkXss=function(u){var t=new RegExp("[<>]");return t.test(u.value)?u.msg:""},{check:function(e,F){e=e||t("body");var r,a,n=!0;return e.find("[xigou-validata-enable='true']").each(function(){var e=t(this);r=e.attr("xigou-validata-methods").split("&")||[],a=e.attr("xigou-validata-errors").split("&")||[];for(var s=0;s<r.length;s++){var i=r[s].split(":");if(t.isFunction(u[i[0]])){var o=u[i[0]]({value:e.attr("value").replace(/\r/g,""),msg:a[s],params:i.length>1?JSON.parse(i.splice(1).join(":")):{}});if(o=o||"",""!=o)return setTimeout(function(){t.isFunction(F)&&F(o,e.attr("id"),i[0])},30),n=!1}}}),n},checkSingleNode:function(e,F,r){r=r||!1;var a=!0;if(e){var n=e;_methods=n.attr("xigou-validata-methods").split("&")||[],_errors=n.attr("xigou-validata-errors").split("&")||[];for(var s=0;s<_methods.length;s++){var i=_methods[s].split(":");if(t.isFunction(u[i[0]])){var o=u[i[0]]({value:n.val().replace(/\r/g,""),msg:_errors[s],params:i.length>1?JSON.parse(i.splice(1).join(":")):{}});if(o=o||"",""!=o)return setTimeout(function(){t.isFunction(F)&&F(o,n.attr("id"),i[0])},30),a=!1;r&&setTimeout(function(){t.isFunction(F)&&F(o,n.attr("id"),i[0])},30)}}}return a},initValiData:function(u){var e=u.methods||{},F=u.errors||{};for(var r in e){var a=t("#"+r),n=[],s=[];for(var i in e[r])n.push("object"==typeof e[r][i]?i+":"+JSON.stringify(e[r][i]):i),s.push(F[r][i]);a.attr("xigou-validata-methods",n.join("&")).attr("xigou-validata-errors",s.join("&")).attr("xigou-validata-enable","true")}}}}()}(xigou,Zepto);