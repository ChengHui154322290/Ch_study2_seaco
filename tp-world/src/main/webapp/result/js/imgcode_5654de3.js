function showCodeImg(i,e,t){function d(){$(".img_code_bg").hide().remove(),$(".div_img_code").hide().remove()}function s(i){t.text(i),t.addClass("disable");var e=setInterval(function(){return 0>=i?(clearInterval(e),t.text("获取验证码"),void t.removeClass("disable")):void t.text(--i)},1e3)}function c(){var e={methods:{},errors:{}};return e.methods[i]={required:"required",mobile:!0},e.errors[i]={required:"请输入手机号",mobile:"手机号码不正确，请重新输入"},xigou.valiformdata.initValiData(e)}function o(i,e){$.tips({content:i,stayTime:2e3,type:"warn"}),$("#"+e).focus()}var a=$("#"+i).val();if(!t.hasClass("disable")&&(c(),xigou.valiformdata.check(null,o))){if($(".div_img_code").size()<=0){var v=[];v.push("<div class='img_code_bg' style='height:"+$(window).height()+"px'></div>"),v.push('<div class="div_img_code">'),v.push('<div class="div_code_title">验证码</div>'),v.push('<div class="div_code_info">'),v.push('<div class="div_code_img">'),v.push('<img src="'+xigou.activeHost+"captcha/graphic.htm?tel="+a+"&type="+e+'">'),v.push("</div>"),v.push('<div class="div_code_input">'),v.push('<input class="input_img_code" type="text" placeholder="请输入验证码">'),v.push("</div>"),v.push('<div class="div_code_btn">'),v.push('<div class="div_code_btn1">取消</div>'),v.push('<div class="div_code_btn2">确认</div>'),v.push("</div>"),v.push("</div>"),v.push("</div>"),$("body").append(v.join(""))}$(".div_img_code .div_code_img").click(function(){$(".div_img_code .div_code_img img").attr("src",xigou.activeHost+"captcha/graphic.htm?tel="+a+"&type="+e)}),$(".div_img_code .div_code_btn1").click(function(){d()}),$(".div_img_code .div_code_btn2").click(function(){var i={tel:a,type:e,graphic:$(".input_img_code").val()},t={requestBody:i,callback:function(i,e){if(e==xigou.dictionary.success)if(null==i)$.tips({content:xigou.dictionary.chineseTips.server.value_is_null,stayTime:2e3,type:"warn"});else{var t=i.code;switch(t){case"0":d(),s(60);break;default:$.tips({content:i.msg||"获取验证码失败",stayTime:2e3,type:"warn"})}}else $.tips({content:"请求失败，详见"+i,stayTime:2e3,type:"warn"})}};xigou.activeUser.getTheCode(t)})}}