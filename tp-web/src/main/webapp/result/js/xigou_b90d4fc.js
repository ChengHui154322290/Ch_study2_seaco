function isEmpty(e){return null==e||""==e?!0:!1}function isNotEmpty(e){return!isEmpty(e)}function onBridgeReady(e,t,o){"undefined"==typeof WeixinJSBridge?$.tips({content:"请在微信里面使用",stayTime:2e3,type:"warn"}):WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(window.location.href=e.returnurl+"&ordercode="+o),"get_brand_wcpay_request:cancel"==t.err_msg&&(window.location.href="orders.html"),"get_brand_wcpay_request:fail"==t.err_msg&&(window.location.href="orders.html")})}function onUnionBridgeReady(e,t,o,i,n,r){"undefined"==typeof WeixinJSBridge?$.tips({content:"请在微信里面使用",stayTime:2e3,type:"warn"}):WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(window.location.href=e.returnurl+"&ordercode="+o),"get_brand_wcpay_request:cancel"==t.err_msg&&(window.location.href=void 0!=r&&""!=r?r:n+"orders.html"),"get_brand_wcpay_request:fail"==t.err_msg&&(window.location.href=void 0!=r&&""!=r?r:n+"orders.html")})}function onDssBridgeReady(e){"undefined"==typeof WeixinJSBridge?$.tips({content:"请在微信里面使用",stayTime:2e3,type:"warn"}):WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(t){"get_brand_wcpay_request:ok"==t.err_msg&&(window.location.href=e.returnurl),"get_brand_wcpay_request:cancel"==t.err_msg&&(window.location.href="dsshome.html"),"get_brand_wcpay_request:fail"==t.err_msg&&(window.location.href="dsshome.html")})}var xigou=xigou||{};this.getXgOpenIdUrl="http://m.seagoor.com/paymentbridgeForSeaCo.html?from=seaCo",this.pageHost=this.activeHost,String.prototype.endWith=function(e){return null==e||""==e||0==this.length||e.length>this.length?!1:this.substring(this.length-e.length)==e?!0:!1},String.prototype.startWith=function(e){return null==e||""==e||0==this.length||e.length>this.length?!1:this.substr(0,e.length)==e?!0:!1},function($){function addtime(e){return 10>e?"0"+e:e}var _this=this;this.events={click:function(){return"ontouchend"in document?"tap":"click"}(),change:"change"},this.paymentType={0:"支付宝",1:"微信支付",2:"银联支付",3:"招行支付",4:"快钱支付"},this.dictionary={success:"success",error:"error",fail:"fail",chineseTips:{server:{value_is_null:"服务端未有数据返回"}},carCountDown:18e5},this.default_img="./resources/images/icon/icon-default.png",this.default_img2="./resources/images/icon/lazyload-610x266.png",this.default_img3="./resources/images/icon/lazyload-640x278.png",this.opendebugPrint=function(){return!1}(),this.debugMsgList=[],this.debugPrint=function(e){if(_this.opendebugPrint){if($("#xigou_logs").size()<1){var t='<div id="xigou_logs" style="display:none;top:10%;left:10%;width: 80%;height: 80%;position: fixed;border-radius: 5px;background-color: #ccc;z-index: 9999;"><div class="content" style="padding:5px;overflow:scroll;height:90%"></div><div class="close" style="height:5%;text-align:center;padding:5px 0px 5px 0px;border-radius: 5px;border: 1px solid blue;color: white;background-color: #005bac;position: absolute;bottom:0px;width:99%;" onclick="$(this).parent().hide()">关闭</div></div>';$("body").append(t),_this.debugMsgList.push(e)}else _this.debugMsgList.length>0&&($("#xigou_logs .content").append(_this.debugMsgList.join("<br/>")),_this.debugMsgList.length=0),$("#xigou_logs .content").append(e+"<br/>");window.console&&console.log(e)}},this.log=function(e){this.debugPrint(e)},this.locationData=function(){return!1}(),this.activeHost="//"+window.location.host+"/",this.activeUrl={index:{getbanners:"index/getbanners.htm",gettodaynew:"index/gettodaynew.htm",module:"index/module.htm",dc:"dc.htm",advertlog:"advert/recordAdvert.htm"},user:{logon:"user/logon.htm",getcaptcha:"user/getcaptcha.htm",getcaptchaNew:"user/getcaptchaNew.htm",pregeetest:"user/pregeetest.htm",sendgeecode:"user/sendgeecode.htm",supcount:"user/supcount.htm",regist:"user/regist.htm",modifypwd:"user/modifypwd.htm",logout:"user/logout.htm",unionlogon:"user/union/logon.htm",bindunion:"user/safety/bindunion.htm",init:"user/init.htm",modifymobile:"user/modifymobile.htm",checkmobile:"user/checkmobile.htm"},dssuser:{regist:"dss/regist.htm",getdssinfo:"dss/getinfo.htm",shareshop:"/dss/shareShop.htm",shareScanPromoter:"/dss/shareScanPromoter.htm"},wx:{getopenid:"wx/oauth/getopenid.htm",config:"wx/oauth/config.htm",getcodeurl:"wx/oauth/getcodeurl.htm",getuserinfo:"wx/oauth/getuserinfo.htm"},file:{uploadimg:"file/uploadimg.htm"},cart:{add:"cart/add.htm",supcount:"cart/supcount.htm",load:"cart/load.htm",operation:"cart/operation.htm"},safety:{checkauth:"user/safety/checkauth.htm",auth:"user/safety/auth.htm"},coupon:{list:"coupon/list.htm",inreceive:"coupon/exchange.htm",redpacket:"coupon/receivemany.htm",offlinecouponcode:"coupon/offlinecouponcode.htm",queryordercouponcount:"coupon/queryordercouponcount.htm",receiveCenterlist:"coupon/receiveCenterlist.htm",receiveCoupon:"coupon/receiveCoupon.htm"},point:{list:"point/list.htm"},position:{getprovlist:"position/getprovlist.htm",getarealist:"position/getarealist.htm",getareatree:"position/getareatree.htm"},address:{list:"address/list.htm",add:"address/add.htm",edit:"address/edit.htm",del:"address/del.htm"},topic:{detail:"topic/detail.htm",products:"topic/products.htm"},order:{list:"order/list.htm",submitinfo:"order/submitinfo.htm",submit:"order/submit.htm",confirm:"order/confirm.htm",calordel:"order/calordel.htm",detail:"order/detail.htm",buynow:"order/buynow.htm",logistic:"logistic/list.htm",mergesubmit:"order/mergesubmit.htm"},product:{detail:"product/detail.htm"},pay:{payorder:"pay/payorder.htm",payresult:"pay/payresult.htm"},aftersales:{list:"aftersales/list2detail.htm",companylist:"logistic/companylist.htm",apply:"aftersales/apply.htm",cancel:"aftersales/cancel.htm",submitlogistic:"aftersales/submitlogistic.htm"},classify:{navigation:"search/navigation.htm",search:"search.htm",condition:"search/condition.htm"},promoter:{account:"promoter/account.htm",billinfo:"promoter/billinfo.htm",dealers:"promoter/dealers.htm",orders:"promoter/orders.htm",withdraw:"promoter/withdraw.htm",login:"promoter/login.htm",items:"dss/items.htm",updatepromoter:"promoter/updatepromoter.htm",withdrawdetail:"promoter/withdrawdetail.htm",getopics:"promoter/getopics.htm",getopicitems:"promoter/getopicitems.htm",setshelves:"promoter/setshelves.htm",getitles:"promoter/getitles.htm",checkInvisteCode:"/promoter/getInviteCode.htm",saveInvistePromoter:"/promoter/saveInviteUserInfo.htm",queryChildPromoters:"/promoter/queryChildPromoters.htm"},groupbuy:{detail:"groupbuy/detail.htm",launch:"groupbuy/launch.htm",join:"groupbuy/join.htm",my:"groupbuy/my.htm",list:"groupbuy/list.htm",listforindex:"groupbuy/listforindex.htm"},orderredeem:{list:"/order/redeem/list.htm",count:"/order/redeem/count.htm",paramskulist:"/order/redeem/param/skulist.htm",paramcodestatus:"/order/redeem/param/codestatus.htm",exchange:"/order/redeem/exchange.htm",userlist:"/order/redeem/user/list.htm",usersave:"/order/redeem/user/save.htm",userdelete:"/order/redeem/user/delete.htm"},offlinegb:{banner:"offlinegb/banner.htm",shoplist:"offlinegb/shoplist.htm",hotsale:"offlinegb/hotsale.htm"},usersign:{showcalendar:"member/sign/showcalendar.htm",show:"member/sign/show.htm"},seagoorpay:{code:"/seagoorpay/code.htm",querypaystatus:"/seagoorpay/querypaystatus.htm"},switches:{swt:"/swt.htm"}},this.win={width:$(window).width(),height:$(window).height()},this.device=function(){var e=window.navigator;return{appCodeName:e.appCodeName,appMinorVersion:e.appMinorVersion,appName:e.appName,appVersion:e.appVersion,browserLanguage:e.browserLanguage,cookieEnabled:e.cookieEnabled,cpuClass:e.cpuClass,onLine:e.onLine,platform:e.platform,systemLanguage:e.systemLanguage,userAgent:e.userAgent,userLanguage:e.userLanguage}}(),this.systemName=function(){var e=_this.device.userAgent,t=["IOS","AM","AP","ATV","WP","WP8","MACOSX"],o="1.1.0";if(/Version/i.test(e)){var i=e.indexOf("Version");i>-1&&(o=e.slice(i+8,i+8+4))}return/iPhone|iPod|iPad/i.test(e)?{name:t[0],version:o}:/Android/i.test(e)?{name:t[1],version:o}:/Windows Phone 7.0/i.test(e)?{name:t[4],version:o}:/Windows Phone 8.0/i.test(e)?{name:t[5],version:o}:/MACOSX/i.test(e)?{name:t[6],version:o}:{name:"NULL",version:o}}(),this.getQueryString=function(e,t){t=t||window.location.href,t&&t.indexOf("?")>-1?t=t.substring(t.indexOf("?")+1):"";var o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=t?t.match(o):window.location.search.substr(1).match(o);return null!=i&&""!=i[2]?decodeURI(i[2]):null},this.changeURLPar=function(destiny,par,par_value){var pattern=par+"=([^&]*)",replaceText=par+"="+par_value;if(destiny.match(pattern)){var tmp="/\\"+par+"=[^&]*/";return"sku"==par&&(tmp="/sku=[^&]*/"),tmp=destiny.replace(eval(tmp),replaceText)}return destiny.match("[?]")?destiny+"&"+replaceText:destiny+"?"+replaceText},this.supportStroage=function(){var e=!0;try{window.localStorage?window.localStorage.test="test":e=!1}catch(t){e=!1}return e},this.setLocalStorage=function(e,t,o){if(_this.debugPrint("设置localStorage数据key="+e+",是否为json数据:"+(o?"true":"false")),!this.supportStroage())return void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"});if(window.localStorage){o&&(t=JSON.stringify(t)),_this.debugPrint("设置localStorage数据key="+e+",value="+t);try{window.localStorage[e]=t}catch(i){_this.debugPrint("当前浏览器处于无痕模式"),$.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"})}}else _this.debugPrint("当前浏览器不支持localStorage")},this.getLocalStorage=function(e,t){if(_this.debugPrint("获取localStorage数据key="+e+",是否为json数据:"+(t?"true":"false")),!this.supportStroage())return void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"});if(window.localStorage){var o=window.localStorage[e]||"";return t&&o&&(o=JSON.parse(o)),_this.debugPrint("获取localStorage数据key="+e+",value="+o),o}_this.debugPrint("当前浏览器不支持localStorage")},this.getToken=function(){return _this.getLocalStorage("token")},this.setSessionStorage=function(e,t,o){return _this.debugPrint("设置sessionStorage数据key="+e+",是否为json数据:"+(o?"true":"false")),this.supportStroage()?void(window.sessionStorage?(o&&(t=JSON.stringify(t)),_this.debugPrint("设置sessionStorage数据key="+e+",value="+t),window.sessionStorage[e]=t):_this.debugPrint("当前浏览器不支持sessionStorage")):void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"})},this.getSessionStorage=function(e,t){if(_this.debugPrint("获取sessionStorage数据key="+e+",是否为json数据:"+(t?"true":"false")),!this.supportStroage())return void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"});if(window.sessionStorage){var o=window.sessionStorage[e]||"";return t&&o&&(o=JSON.parse(o)),_this.debugPrint("获取sessionStorage数据key="+e+",value="+o),o}_this.debugPrint("当前浏览器不支持sessionStorage")},this.removeSessionStorage=function(e){return _this.debugPrint("移除sessionStorage数据key="+e),this.supportStroage()?void(window.sessionStorage?window.sessionStorage.removeItem(e):_this.debugPrint("当前浏览器不支持sessionStorage")):void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"})},this.removelocalStorage=function(e){return _this.debugPrint("移除localStorage数据key="+e),this.supportStroage()?void(window.localStorage?window.localStorage.removeItem(e):_this.debugPrint("当前浏览器不支持localStorage")):void $.tips({content:"暂不支持无痕浏览!",stayTime:2e3,type:"warn"})},this.getCookie=function(e){_this.debugPrint("获取cookie值,当前域为"+document.domain+",key为"+e);var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?(_this.debugPrint("获取cookie值,\r\nkey:"+e+"\r\nvalue:"+t[2]),unescape(t[2])):(_this.debugPrint("获取cookie值,不存在key为"+e+"的cookie"),null)},this.removeCookie=function(e){var t={domain:"",key:"",path:"/"};"object"==typeof e?$.extend(t,e):"string"==typeof e&&(t.key=e),t.domain||(t.domain=function(){return/^\d/.test(document.domain)?document.domain:/^[a-z]/i.test(document.domain)?document.domain.substring(document.domain.indexOf(".")):document.domain}()),_this.debugPrint("移除cookie值,当前域为"+t.domain+",path为"+t.path+",key为"+t.key);var o=new Date("2000","1","1"),i=this.getCookie(t.key);null!=i?(_this.debugPrint("成功移除key为"+t.key+"的cookie值"),document.cookie=t.key+"="+i+";domain="+t.domain+";path="+t.path+";expires="+o.toGMTString()):_this.debugPrint("移除cookie值,不存在key为"+t.key+"的cookie")},this.setCookie=function(e,t,o){o="undefined"==typeof o?!0:o,o&&(t=encodeURIComponent(t)),document.cookie=e+"="+t+"; path=/;"},this.defaultAddress={area:{code:"250",name:"华东"},city:{code:"264",name:"上海市"}},_this.getLocalStorage("address",!0)||_this.setLocalStorage("address",_this.defaultAddress,!0);var type="wap",ua=window.navigator.userAgent.toLowerCase();"micromessenger"==ua.match(/MicroMessenger/i)&&(type="wx"),this.publicParams={get:function(e){var t=e.indexOf("?")>-1?"&":"?",o=new Array;return o.push("oem="+_this.systemName.name),o.push("scheme="+window.location.protocol.replace(":","")),o.push("osversion="+_this.systemName.version),o.push("screenwidth="+_this.win.width),o.push("screenheight="+_this.win.height),o.push("apptype="+type),o.push("appversion=1.5.0"),o.push("nettype=unknown"),o.push("regcode="+JSON.parse(_this.getLocalStorage("address")).area.code),o.push("provcode="+JSON.parse(_this.getLocalStorage("address")).city.code),o.push("partner=xigou"),t+=o.join("&")},post:function(){return{scheme:window.location.protocol.replace(":",""),oem:_this.systemName.name,osversion:_this.systemName.version,screenwidth:_this.win.width,screenheight:_this.win.height,apptype:type,appversion:"1.5.0",nettype:"unknown",regcode:JSON.parse(_this.getLocalStorage("address")).area.code,provcode:JSON.parse(_this.getLocalStorage("address")).city.code,partner:"xigou"}}},this._ajaxCount=0,this._ajaxCompleteCount=0,this.post=function(e){var t=!0;"undefined"!=typeof e.showLoading&&(t=e.showLoading),_this.debugPrint("进入ajax的post方法请求  参数为："+JSON.stringify(e));var o=e.requestBody;$.extend(o,_this.publicParams.post()),$.ajax({type:"post",url:e.url,dataType:"json",contentType:"application/json",accepts:"application/json",data:JSON.stringify(o),timeout:6e4,beforeSend:function(){window.xigou&&t&&(_this._ajaxCount++,xigou.loading.open())},success:function(o){window.xigou&&t&&(_this._ajaxCompleteCount++,_this._ajaxCount==_this._ajaxCompleteCount&&xigou.loading.close()),o&&(o=JSON.stringify(o),o=JSON.parse(o.replace(/:null/g,':""'))),_this.debugPrint("【"+e.url+"】完成ajax请求 进入success函数,返回值为："+JSON.stringify(o)+"调用返回函数"),$.isFunction(e.callback)&&e.callback(o,_this.dictionary.success)},error:function(e,o,i){if(window.xigou&&t&&(_this._ajaxCompleteCount++,_this._ajaxCount==_this._ajaxCompleteCount&&xigou.loading.close()),"abort"==o)$.tips({content:"网络已断开",stayTime:2e3,type:"warn"});else if("timeout"==o)$.tips({content:"系统连接超时",stayTime:2e3,type:"warn"});else if("error"==o)switch(e.status){case 403:$.tips({content:"服务器禁止访问",stayTime:2e3,type:"warn"});break;case 404:$.tips({content:"未找到服务器",stayTime:2e3,type:"warn"});break;case 500:$.tips({content:"服务器未响应",stayTime:2e3,type:"warn"});break;case 503:$.tips({content:"服务器不可用",stayTime:2e3,type:"warn"});break;case 504:$.tips({content:"网关超时",stayTime:2e3,type:"warn"})}else $.isFunction(dp.callback)&&dp.callback({xhr:e,errorType:o,error:i},_this.dictionary.fail);_this.debugPrint("完成ajax请求 进入error函数")}})},this.get=function(e){var t=!0;"undefined"!=typeof e.showLoading&&(t=e.showLoading),_this.debugPrint("进入ajax的get方法请求  参数为："+JSON.stringify(e)),$.ajax({type:"get",url:e.url+_this.publicParams.get(e.url),dataType:"json",contentType:"application/json",accepts:"application/json",timeout:6e4,beforeSend:function(){window.xigou&&t&&(_this._ajaxCount++,xigou.loading.open())},success:function(o){window.xigou&&t&&(_this._ajaxCompleteCount++,_this._ajaxCount==_this._ajaxCompleteCount&&xigou.loading.close()),o&&(o=JSON.stringify(o),o=JSON.parse(o.replace(/:null/g,':""'))),_this.debugPrint("【"+e.url+"】完成ajax请求 进入success函数,返回值为："+JSON.stringify(o)+"调用返回函数"),$.isFunction(e.callback)&&e.callback(o,_this.dictionary.success)},error:function(e,o,i){if(window.xigou&&t&&(_this._ajaxCompleteCount++,_this._ajaxCount==_this._ajaxCompleteCount&&xigou.loading.close()),"abort"==o)$.tips({content:"网络已断开",stayTime:2e3,type:"warn"});else if("timeout"==o)$.tips({content:"系统连接超时",stayTime:2e3,type:"warn"});else if("error"==o)switch(e.status){case 403:$.tips({content:"服务器禁止访问",stayTime:2e3,type:"warn"});break;case 404:$.tips({content:"未找到服务器",stayTime:2e3,type:"warn"});break;case 500:$.tips({content:"服务器未响应",stayTime:2e3,type:"warn"});break;case 503:$.tips({content:"服务器不可用",stayTime:2e3,type:"warn"});break;case 504:$.tips({content:"网关超时",stayTime:2e3,type:"warn"})}else $.isFunction(dp.callback)&&dp.callback({xhr:e,errorType:o,error:i},_this.dictionary.fail);_this.debugPrint("完成ajax请求 进入error函数")}})},this.strReplaceByLocation=function(e,t,o,i){var n=e.substring(0,t),r=(e.substring(t,o),e.substring(o,e.length));return n+i+r},this.addParamToATag=function(e,t,o){if(o&&t){var i=e,n="?";if("object"==typeof e)i=e.attr("href"),/\?+/.test(i)&&(n="&"),e.attr("href",i+n+t+"="+o);else if("string"==typeof e)return i+n+t+"="+o;return!0}return!1},this.getDssUserInfo=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.dssuser.getdssinfo;ajaxPost(e,t)},this.recordAdverstLog=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.index.advertlog;ajaxPost(e,t)},this.shareShop=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.dssuser.shareshop;ajaxPost(e,t)},this.shareScanPromoter=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.dssuser.shareScanPromoter;ajaxPost(e,t)},this.registerInvister=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.promoter.saveInvistePromoter;ajaxPost(e,t)},this.checkInvisteCode=function(e){e.requestBody=e.requestBody||{};var t=this.activeHost+this.activeUrl.promoter.checkInvisteCode;ajaxPost(e,t)},this.getLoginUserInfo=function(e){function t(){""!=o?$.isFunction(e.callback)&&e.callback("",_this.dictionary.success):(_this.log("<span style='color:red'>最终获未取到token值</span>"),$.isFunction(e.callback)&&e.callback(null,_this.dictionary.fail))}if(e=e||{},""==_this.getSessionStorage("userinfo")){var o="";_this.log("<span style='color:red'>SessionStorage-userinfo为空</span>"),_this.getLocalStorage("token")?(_this.log("<span style='color:red'>web-getCookie-ACCESS_TOKEN有值</span>"),o=_this.getLocalStorage("token"),t()):$.isFunction(e.callback)&&e.callback(null,_this.dictionary.fail)}else $.isFunction(e.callback)&&e.callback(_this.getSessionStorage("userinfo",!0),_this.dictionary.success)},this.formatTimeDate=function(e){if("number"!=typeof e)try{e=parseInt(e)}catch(t){}var o=new Date(e),i=o.getFullYear(),n=o.getMonth()+1,r=o.getDate(),a=o.getHours(),s=o.getMinutes(),c=o.getSeconds();return i+"-"+addtime(n)+"-"+addtime(r)+"　"+addtime(a)+":"+addtime(s)+":"+addtime(c)},this.uploadImage=function(e,t){var o=e[0],i=new FileReader;return/image/i.test(o.type)&&"undefined"!=typeof FileReader?(i.readAsDataURL(o),void(i.onload=function(e){t(e.target.result)})):t("")},this.compress=function(e,t,o){var i="image/jpeg";void 0!=o&&"png"==o&&(i="image/png");var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var r=(n.getContext("2d").drawImage(e,0,0),n.toDataURL(i,t/100)),a=new Image;return a.src=r,a},this.compress2=function(e,t,o){var i="image/png",n=new Image,r=document.createElement("canvas");n.src=e,r.width=682,r.height=434,n.onload=function(){var e=n.naturalWidth,a=n.naturalHeight,s=(r.getContext("2d").drawImage(n,0,0,e,a,0,0,682,434),r.toDataURL(i,t/100)),c=new Image;c.src=s,c.onload=function(){o&&$.isFunction(o)&&o(c)}}},$(function(){$("div.title").off("longTap").longTap(function(){$("#xigou_logs").show()})});var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?6613c6e61ea0ff167b10a66563346dca";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),this.redirect=function(){var e=document.referrer.match(/\/([^\/]+\.html)/);e?location.href=e[1]:window.history.back()}}.call(xigou,Zepto),function(){var e=this;this.subDecimal=function(e){return isNaN(e)||("number"!=typeof e&&(e=parseFloat(e)),e=Math.round(100*e)/100),"undefined"==typeof e&&(e=0),e},this.subDiscount=function(t,o){t=""==t?0:e.subDecimal(t),o=""==o?0:e.subDecimal(o);var i=o==t||0==o?"":Math.round(100*t/o)/10;return 0==i||""==i?"":i+"折"}}.call(xigou,Zepto),function(e){this.getwxOpenid=function(e,t){var o="";o=0==e?"../getopenid.html?back_url="+encodeURIComponent(location.href):"./getopenid.html?back_url="+encodeURIComponent(location.href),t&&(o+="&getNickName=1"),window.location.href=o};this.getwxOpenidUnion=function(e,t){var o="";o=0==e?"../getopenidunion.html?back_url="+encodeURIComponent(location.href):"getopenidunion.html?back_url="+encodeURIComponent(location.href),t&&(o+="&getNickName=1"),window.location.href=o},this.forceBindTel=function(t){if(t&&e.isFunction(t.callback)){var o=t.backurl||window.location.href,i=window.navigator.userAgent.toLowerCase();if("micromessenger"!=i.match(/MicroMessenger/i))t.callback(!0);else{var n=xigou.getToken(),r=xigou.getLocalStorage("openid");n&&r||t.callback(!0);var a={token:n,uniontype:1,unionval:r};xigou.activeUser.logon({requestBody:a,showLoading:!1,callback:function(e,i){var n=!1;do if(i==xigou.dictionary.success){if("0"==e.code&&e.data.tel){n=!0;break}if("-100"==e.code)return xigou.setSessionStorage("loginjump_url",o),void(window.location.href=0==t.type?"../logon.html":"logon.html")}while(!1);n?t.callback(!0):(xigou.setSessionStorage("forceBindTel",o),window.location.href=0==t.type?"../forcebindtel.html":"forcebindtel.html",t.callback(!1))}})}}},this.wxreadyalert=function(){}}.call(xigou,Zepto),function(e){var t=this,o=this.loading={};o.open=function(){i(),n(),e(window).on("ortchange",function(){n()})},o.close=function(){document.getElementById("cpic_ui_mask")&&e("#cpic_ui_mask").hide().remove(),document.getElementById("cpic_ui_box")&&e("#cpic_ui_box").hide().remove()};var i=function(){if(e("#cpic_ui_box").size()<=0){var o=new Array;o.push("<div id='cpic_ui_mask' style='height:"+t.win.height+"px'></div>"),o.push("<div id='cpic_ui_box' style='display:none'>"),o.push("    <div class='cpic_ui_loading_img'></div>"),o.push("</div>"),o=e(o.join("")),e("body").append(o)}},n=function(){var o={top:(t.win.height-50)/2+"px",left:(t.win.width-50)/2+"px",display:"block"};e("#cpic_ui_mask").height(t.win.height),e("#cpic_ui_box").css(o)}}.call(xigou,Zepto),function(e){this.toast=function(t,o){var i=e("<div class='one_toast "+o+"' ><p>"+t+"</p></div>");e("body").append(i);var n=0,r=setInterval(function(){n+=.1,n>=1?clearInterval(r):i.css("opacity",n)},80);setTimeout(function(){var e=1,t=setInterval(function(){e-=.1,0>=e?(clearInterval(t),i.remove()):i.css("opacity",e)},80)},2e3)}}.call(xigou,Zepto),function(e){this.refresh=function(t,o){t=t||e(".ui-refresh-down"),t[xigou.events.click](function(){var t=e(this).find("span");t.eq(0).hasClass("ui-loading")||(e(this).find("span").eq(0).addClass("ui-loading"),e(this).find("span").eq(1).html("加载中..."),e.isFunction(o.callback)&&o.callback(!0))})}}.call(xigou,Zepto),function(e){e.fn.cartshopopt=function(t){var o=e(this).find(".quantity_decrease"),i=e(this).find(".quantity_increase");o[xigou.events.click](function(){n(this,-1)}),i[xigou.events.click](function(){n(this,1)});var n=function(o,i){var n=e(o).parent(),r=n.find(".quantity_txt"),a=parseInt(r.html());a+=i;var s=parseInt(n.attr("maxNum")),c=!1;a>=1&&s>=a&&(c=!0),a>=s?(a=s,e(o).addClass("disabled")):1>=a?(a=1,e(o).addClass("disabled")):e(o).removeClass("disabled"),1!=s&&(i>0?e(o).siblings(".quantity_decrease").removeClass("disabled"):e(o).siblings(".quantity_increase").removeClass("disabled")),console.log(a),r.html(a),c&&t(a,i,o)}}}.call(xigou,Zepto),function(){this.getreturnGoodsType=function(e){var t={0:"30天无理由",1:"商品质量问题",2:"商品错发或漏发",3:"收到商品破损",7:"拍错，已重新下单",8:"价格变动"};return t[e]},this.getCustomerServiceState=function(e){var t={0:"<span style='color:#FB0C7C;'>待售后审核</span>",1:"<span style='color:#0DD6BD;'>退货中</span>",2:"<span style='color:#0DD6BD;'>退款中</span>",3:"<span style=''>已退款</span>",4:"<span style='color:#F60A0A;'>审核不通过</span>",5:"<span style=''>取消退货</span>"};return""==e?"":t[e]}}.call(xigou,Zepto),$(function(){window.location.pathname.endWith("login.html")||window.location.pathname.endWith("logon.html")||xigou.setSessionStorage("refer",window.document.referrer,!1)}),function(e){"use strict";var t,o=e.Base64,i="2.1.5";"undefined"!=typeof module&&module.exports&&(t=require("buffer").Buffer);var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(e){for(var t={},o=0,i=e.length;i>o;o++)t[e.charAt(o)]=o;return t}(n),a=String.fromCharCode,s=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?a(192|t>>>6)+a(128|63&t):a(224|t>>>12&15)+a(128|t>>>6&63)+a(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return a(240|t>>>18&7)+a(128|t>>>12&63)+a(128|t>>>6&63)+a(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u=function(e){return e.replace(c,s)},d=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),i=[n.charAt(o>>>18),n.charAt(o>>>12&63),t>=2?"=":n.charAt(o>>>6&63),t>=1?"=":n.charAt(63&o)];return i.join("")},l=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,d)},h=t?function(e){return new t(e).toString("base64")}:function(e){return l(u(e))},g=function(e,t){return t?h(e).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):h(e)},p=function(e){return g(e,!0)},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),f=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),o=t-65536;return a((o>>>10)+55296)+a((1023&o)+56320);case 3:return a((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return a((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},y=function(e){return e.replace(m,f)},w=function(e){var t=e.length,o=t%4,i=(t>0?r[e.charAt(0)]<<18:0)|(t>1?r[e.charAt(1)]<<12:0)|(t>2?r[e.charAt(2)]<<6:0)|(t>3?r[e.charAt(3)]:0),n=[a(i>>>16),a(i>>>8&255),a(255&i)];return n.length-=[0,0,2,1][o],n.join("")},v=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,w)},b=t?function(e){return new t(e,"base64").toString()}:function(e){return y(v(e))},_=function(e){return b(e.replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(){var t=e.Base64;return e.Base64=o,t};if(e.Base64={VERSION:i,atob:v,btoa:l,fromBase64:_,toBase64:g,utob:u,encode:g,encodeURI:p,btou:y,decode:_,noConflict:x},"function"==typeof Object.defineProperty){var S=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S(function(){return _(this)})),Object.defineProperty(String.prototype,"toBase64",S(function(e){return g(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",S(function(){return g(this,!0)}))}}}(this),this.Meteor&&(Base64=global.Base64);var wx_param={appId:"",timeStamp:"",nonceStr:"","package":"",signType:"",paySign:""},yiqifarddate=xigou.getLocalStorage("yiqifarddate"),channelcode=xigou.getLocalStorage("channelcode");if(void 0!=yiqifarddate&&null!=yiqifarddate&&""!=yiqifarddate){var currentDate=new Date;currentDate.getTime()-parseInt(yiqifarddate)>2592e6&&"0118"==channelcode&&(xigou.removelocalStorage("channelsource"),xigou.removelocalStorage("clientcode"),xigou.removelocalStorage("distributecode"),xigou.removelocalStorage("channelcode"),xigou.removelocalStorage("yiqifarddate"))}