"use strict";function deliveryOrders(e,r){if("Y"==deliveryorder_max)return r.disable("down",!1),$(".ui-refresh-down>span:first-child").removeClass(),!1;if("Y"!=deliveryorder_max){var s=xigou.getToken(),i=xigou.getSessionStorage("beginquerydate"),d=xigou.getSessionStorage("endquerydate"),a={token:s,orderstatus:5,curpage:e,type:type,createBeginTime:i,createEndTime:d};xigou.promoterFunc.queryOrders({requestBody:a,callback:function(s,i){if(i==xigou.dictionary.success)if(null==s)$.tips({content:xigou.dictionary.chineseTips.server.value_is_null,stayTime:2e3,type:"warn"});else{var d=s.code;0==d?(setDeliveryOrderHtmlView(s,e),s.data.curpage>=s.data.totalpagecount&&(r.lock(),$(".dropload-down").hide())):(r.lock(),$(".dropload-down").hide())}}})}}function setDeliveryOrderHtmlView(e,r){for(var s=e,i=s.data.list.length,d=(s.allpage,s.count,s.data.list),a=[],t=0;i>t;t++){a.push('<div class="orders-item" ordercode="'+d[t].ordercode+'">'),a.push(' <div class="order_time_status">'+d[t].ordertime),d[t].statusdesc||(d[t].statusdesc=" "),a.push('     <span class="order_status">'+d[t].statusdesc+"</span></div>");for(var o=0;o<d[t].lines.length;o++){var n=d[t].lines[o];a.push('<div class="order_info" sku="'+n.sku+'" tid = '+n.tid+">"),a.push(' <div class="order_image">'),a.push('     <img src="'+n.imgurl+'">'),a.push(" </div>"),a.push(' <div class="oder_info2">'),a.push('     <div class="order_name_price">'),a.push('         <div class="order_price">¥'+n.price+"</div>"),a.push('         <div class="order_name">'+n.name+"</div>"),a.push("     </div>"),a.push('     <div class="order_size_count">'),a.push('         <div class="order_count">×'+n.count+"</div>"),n.specs.length>0&&a.push("         <div>"+n.specs[0]+"</div>"),a.push("     </div>"),a.push(" </div>"),a.push("</div>")}a.push(' <div class="order_totle_count_price">'),a.push('     <span class="float_right ">共 '+d[t].linecount+' 件 实付：<span class="order_lineprice">¥'+d[t].orderprice+"</span></span>"),a.push(" </div>"),a.push("</div>")}if((""==e.data.pagesize||0==e.data.pagesize||"0"==e.data.pagesize||e.data.curpage==e.data.totalcount)&&(deliveryorder_max="Y"),1==r&&0==a.length){$(".orders-ship").empty();var l=[];l.push('<div class="order_empty"><div class="empty-tip">还木有订单哟~</div></div>'),$(".orders-ship").append(l.join(""))}else $(".orders-ship").append(a.join(""))}function setdefaulesel(e){var r=$(".ui-tab-content")[0],s=$(".ui-tab-nav")[0];$(r.children[0]).removeClass("current"),$(s.children[0]).removeClass("current"),$(r.children[e]).addClass("current"),$(s.children[e]).addClass("current");var i=-1*r.clientWidth*e/3;r.style.transform="translate("+i+"px, 0px)",$(r.children)[0].height="0px"}var type=xigou.getQueryString("type");null==type&&(window.location.href="../logon.html"),$(function(){var e=1;xigou.getLoginUserInfo({callback:function(r,s){if(s==xigou.dictionary.success){$(".orders-ship").dropload({scrollArea:window,loadDownFn:function(r){deliveryOrders(e,r),r.resetload(),1==e&&$(".dropload-refresh").hide(),e++}});var i=xigou.getQueryString("defaule");i&&setdefaulesel(i)}else window.location.href="../logon.html"}})});var deliveryorder_max="N";