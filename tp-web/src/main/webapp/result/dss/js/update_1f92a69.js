function checkNum(){var e=/^\d+$/;return e.test($(".update_value").val())?!0:!1}function checkWx(){var e=/[\u4E00-\u9FA5\uF900-\uFA2D]/;return e.test($(".update_value").val())?!1:!0}function success(e,t){t==xigou.dictionary.success&&(0==e.code?($.tips({content:e.msg||"修改成功",stayTime:2e3,type:"warn"}),setTimeout(function(){window.location.href="../dssaboutus.html"},1e3)):$.tips({content:e.msg||"修改失败",stayTime:2e3,type:"warn"}))}var type=xigou.getQueryString("type");null==type&&(window.location.href="../logon.html"),$(function(){if(isWeiXin()&&($("header").hide(),$(".confirmBtn_wx").show(),1==type&&$("title").html("微信"),2==type&&$("title").html("QQ"),3==type&&$("title").html("邮箱")),1==type){$(".update_name").text("微信"),$(".update_value").attr("placeholder","请输入微信号");var e=xigou.getQueryString("weixin");$(".update_value").val(e),$(".confirmBtn, .confirmBtn_wx").on("click",function(){if(checkWx()){var e=$(".update_value").val(),t={token:xigou.getToken(),type:1,weixin:e};console.log(xigou.promoterFunc),xigou.promoterFunc.updatepromoter({requestBody:t,callback:success})}else $.tips({content:"请输入正确微信号",stayTime:2e3,type:"warn"})})}else if(2==type){$(".update_name").text("QQ"),$(".update_value").attr("placeholder","请输入QQ号");var t=xigou.getQueryString("qq");$(".update_value").val(t),$(".confirmBtn, .confirmBtn_wx").on("click",function(){if(checkNum()){var e=$(".update_value").val(),t={token:xigou.getToken(),type:1,qq:e};console.log(xigou.promoterFunc),xigou.promoterFunc.updatepromoter({requestBody:t,callback:success})}else $.tips({content:"请输入正确QQ号",stayTime:2e3,type:"warn"})})}else if(3==type){$(".update_name").text("邮箱"),$(".update_value").attr("placeholder","请输入正确格式的邮箱");var o=xigou.getQueryString("email");$(".update_value").val(o),$(".confirmBtn, .confirmBtn_wx").on("click",function(){var e=$(".update_value").val(),t={token:xigou.getToken(),type:1,email:e};console.log(xigou.promoterFunc),xigou.promoterFunc.updatepromoter({requestBody:t,callback:success})})}});