function base64encode(e){var r,a,h,t,o,n;for(h=e.length,a=0,r="";h>a;){if(t=255&(hexIn?e[a++]:e.charCodeAt(a++)),a==h){r+=base64EncodeChars.charAt(t>>2),r+=base64EncodeChars.charAt((3&t)<<4),r+="==";break}if(o=hexIn?e[a++]:e.charCodeAt(a++),a==h){r+=base64EncodeChars.charAt(t>>2),r+=base64EncodeChars.charAt((3&t)<<4|(240&o)>>4),r+=base64EncodeChars.charAt((15&o)<<2),r+="=";break}n=hexIn?e[a++]:e.charCodeAt(a++),r+=base64EncodeChars.charAt(t>>2),r+=base64EncodeChars.charAt((3&t)<<4|(240&o)>>4),r+=base64EncodeChars.charAt((15&o)<<2|(192&n)>>6),r+=base64EncodeChars.charAt(63&n)}return r}function base64decode(e){var r,a,h,t,o,n,c,s;for(n=e.length,o=0,c=hexOut?[]:"";n>o;){do r=base64DecodeChars[255&e.charCodeAt(o++)];while(n>o&&-1==r);if(-1==r)break;do a=base64DecodeChars[255&e.charCodeAt(o++)];while(n>o&&-1==a);if(-1==a)break;s=r<<2|(48&a)>>4,hexOut?c.push(s):c+=String.fromCharCode(s);do{if(h=255&e.charCodeAt(o++),61==h)return c;h=base64DecodeChars[h]}while(n>o&&-1==h);if(-1==h)break;s=(15&a)<<4|(60&h)>>2,hexOut?c.push(s):c+=String.fromCharCode(s);do{if(t=255&e.charCodeAt(o++),61==t)return c;t=base64DecodeChars[t]}while(n>o&&-1==t);if(-1==t)break;s=(3&h)<<6|t,hexOut?c.push(s):c+=String.fromCharCode(s)}return c}function utf16to8(e){var r,a,h,t,o;for(r=hexIn?[]:"",h=e.length,a=0;h>a;a++)t=hexIn?e[a]:e.charCodeAt(a),t>=1&&127>=t?hexIn?r.push(e[a]):r+=e.charAt(a):t>2047?(o=224|t>>12&15,hexIn?r.push(o):r+=String.fromCharCode(o),o=128|t>>6&63,hexIn?r.push(o):r+=String.fromCharCode(o),o=128|t>>0&63,hexIn?r.push(o):r+=String.fromCharCode(o)):(o=192|t>>6&31,hexIn?r.push(o):r+=String.fromCharCode(o),o=128|t>>0&63,hexIn?r.push(o):r+=String.fromCharCode(o));return r}function utf8to16(e){var r,a,h,t,o,n,c;for(r=hexOut?[]:"",h=e.length,a=0;h>a;)switch(t=hexOut?e[a++]:e.charCodeAt(a++),t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:hexOut?r.push(e[a-1]):r+=e.charAt(a-1);break;case 12:case 13:o=hexOut?e[a++]:e.charCodeAt(a++),c=(31&t)<<6|63&o,hexOut?r.push(c):r+=String.fromCharCode(c);break;case 14:o=hexOut?e[a++]:e.charCodeAt(a++),n=hexOut?e[a++]:e.charCodeAt(a++),c=(15&t)<<12|(63&o)<<6|(63&n)<<0,hexOut?r.push(c):r+=String.fromCharCode(c)}return r}function CharToHex(e){var r,a,h,t,o;for(r="",h=e.length,a=0;h>a;)t=e.charCodeAt(a++),o=t.toString(16),o.length<2&&(o="0"+o),r+="\\x"+o+" ",a>0&&a%8==0&&(r+="\r\n");return r}function base64_encode(e,r){return hexIn=r,base64encode(utf16to8(e))}function base64_decode(e,r,a){hexOut=r;var h=base64decode(e);return hexOut&&"u"!=a&&"d"!=a||(h=utf8to16(h)),h}function base64_gb2312(e,r){var a="";return $.ajax({url:"/ajax/base64_gb2312.php?type="+r,data:{data:e},async:!1,type:"POST",success:function(e){a=e}}),a}function base64_encode_gb2312(e){return base64_gb2312(e,"encode")}function base64_decode_gb2312(e){return base64_gb2312(e,"decode")}var hexIn=!1,hexOut=!1,base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);